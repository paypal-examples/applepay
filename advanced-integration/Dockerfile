FROM node:16

ARG PAYPAL_CLIENT_ID
ARG PAYPAL_CLIENT_SECRET
ARG PAYPAL_MERCHANT_ID
ARG NODE_ENV

ENV PAYPAL_CLIENT_ID=$PAYPAL_CLIENT_ID
ENV PAYPAL_CLIENT_SECRET=$PAYPAL_CLIENT_SECRET
ENV NODE_ENV=$NODE_ENV
ENV PAYPAL_MERCHANT_ID=$PAYPAL_MERCHANT_ID

WORKDIR /app
COPY package.json ./
RUN npm install --production

COPY . .



CMD ["node", "server.js"]
